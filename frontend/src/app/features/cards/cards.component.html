<section>
    <h3 class="mt-9 text-[22px] text-[#666] flex justify-center min-[689px]:justify-start min-[689px]:ml-8">
      {{ showAllCars ? '(ALL CARS)' : '(POPULAR CARS)' }}
    </h3>
  
    <!-- Cars Grid -->
    <section
      class="grid mx-4 mt-6 gap-6
             grid-cols-1
             sm:grid-cols-2
             lg:grid-cols-3
             xl:grid-cols-4"
    >
      <app-card 
        *ngFor="let car of showAllCars ? displayedCars : featuredCars" 
        [car]="car"
      ></app-card>
    </section>
  
    <!-- No Results Message -->
    <div *ngIf="(showAllCars && displayedCars.length === 0) || (!showAllCars && featuredCars.length === 0)" 
         class="text-center py-8">
      <p class="text-gray-500 text-lg">No cars found matching your criteria.</p>
      <p class="text-gray-500">Try adjusting your filters.</p>
    </div>
  
    <!-- View All Cars / Back to Popular Cars Button -->
    <p 
      class="text-right mt-4 mr-8 font-medium underline cursor-pointer hover:text-black"
      (click)="toggleViewAllCars()"
    >
      {{ showAllCars ? 'Back to popular cars' : 'View all cars' }}
    </p>
  
    <!-- Pagination Controls - Only show when viewing all cars and there are multiple pages -->
    <div *ngIf="showAllCars && totalPages > 1" class="flex justify-center mt-8 mb-8">
      <nav aria-label="Page navigation">
        <ul class="flex items-center space-x-1">
          <!-- Previous Button -->
          <li>
            <button 
              (click)="prevPage()" 
              [disabled]="currentPage === 1"
              class="w-8 h-8 flex items-center justify-center rounded-full border border-gray-300"
              [ngClass]="{'text-gray-400 cursor-not-allowed': currentPage === 1, 'hover:bg-gray-100': currentPage !== 1}"
              aria-label="Previous page"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
            </button>
          </li>
          
          <!-- Page Numbers -->
          <ng-container *ngFor="let item of paginationArray">
            <li *ngIf="isNumber(item)">
              <button 
                (click)="handlePageClick(item)" 
                class="w-8 h-8 flex items-center justify-center rounded-full"
                [ngClass]="{'bg-black text-white': currentPage === item, 'border border-gray-300 hover:bg-gray-100': currentPage !== item}"
              >
                {{ item }}
              </button>
            </li>
            <li *ngIf="!isNumber(item)">
              <span class="w-8 h-8 flex items-center justify-center">...</span>
            </li>
          </ng-container>
          
          <!-- Next Button -->
          <li>
            <button 
              (click)="nextPage()" 
              [disabled]="currentPage === totalPages"
              class="w-8 h-8 flex items-center justify-center rounded-full border border-gray-300"
              [ngClass]="{'text-gray-400 cursor-not-allowed': currentPage === totalPages, 'hover:bg-gray-100': currentPage !== totalPages}"
              aria-label="Next page"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </section>